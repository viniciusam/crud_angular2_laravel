<loading-indicator [isLoading]="loading"></loading-indicator>
<div *ngIf="!loading">
  <h1>{{ form.get("id").value ? 'Edit Driver' : 'New Driver' }}</h1>
  <form [formGroup]="form" (ngSubmit)="submit()">

    <input type="hidden" name="id" formControlName="id">

    <div class="form-group" [ngClass]="{'has-danger': isInvalid(form.controls.first_name)}">
      <label for="first_name">First Name</label>
      <input type="text" class="form-control" name="first_name" placeholder="Enter your first name..." formControlName="first_name">
    </div>

    <div class="form-group" [ngClass]="{'has-danger': isInvalid(form.controls.last_name)}">
      <label for="first_name">Last Name</label>
      <input type="text" class="form-control" name="last_name" placeholder="Enter your last name..." formControlName="last_name">
    </div>

    <div class="form-group" [ngClass]="{'has-danger': isInvalid(form.controls.email)}">
      <label for="email">Email Address</label>
      <input type="email" class="form-control" name="email" placeholder="Enter a valid email..." formControlName="email">
      <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>

    <div class="form-group" [ngClass]="{'has-danger': isInvalid(form.controls.license_number)}">
      <label for="license_number">License Number</label>
      <input type="text" class="form-control" name="license_number" placeholder="Enter your license number..." formControlName="license_number">
    </div>

    <div class="form-group" [ngClass]="{'has-danger': isInvalid(form.controls.license_exp)}">
      <label for="license_exp">License Expiration Date</label>
      <input type="date" class="form-control" name="license_exp" placeholder="Enter your license expiration date..." formControlName="license_exp">
    </div>

    <input type="submit"
            class="btn btn-primary"
            value="{{ (saving) ? 'Saving...' : 'Save' }}"
            [disabled]="!form.valid || saving" />

    <alert></alert>

  </form>
</div>
